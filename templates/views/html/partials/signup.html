<div ng-include="'partials/navbar.html'"></div>

<div class="row">
    <div class="col-lg-12">
        <h1 class="login-title">Sign up</h1>
    </div>
    <div class="col-sm-12">
        <form class="form" name="form" ng-submit="register(form)" novalidate>
            <div class="form-group"
                 ng-class="{
                 'has-warning': form.email.$dirty,
                 'has-success': form.email.$valid && form.email.$dirty && !form.email.$error.mongoose,
                 'has-error': form.email.$invalid && form.email.$dirty || form.email.$error.mongoose
                 }">
                <label>Email</label>
                <input class="form-control"
                       type="email"
                       name="email"
                       ng-model="user.email"
                       required
                       autofocus
                       on-focus
                       mongoose-error/>
                <p class="help-block"
                   ng-show="form.email.$error.email && !form.email.$focused">
                    Not a valid email.
                </p>
                <p class="help-block"
                   ng-show="form.email.$error.mongoose">
                    {{ errors.email }}
                </p>
            </div>

            <div class="form-group"
                 ng-class="{'has-warning': form.password.$dirty,
                            'has-success': form.password.$valid && form.password.$dirty && !form.password.$error.mongoose,
                            'has-error': form.password.$invalid && form.password.$dirty || form.password.$error.mongoose
                            }">
                <label>Password</label>
                <input class="form-control"
                       type="password"
                       name="password"
                       ng-model="user.password"
                       ng-minlength="5"
                       required
                       mongoose-error/>
                <p class="help-block"
                   ng-show="(form.password.$error.minlength || form.password.$invalid)
                            && form.password.$dirty
                            && !form.password.$error.required">
                    Password must be at least 5 characters.
                </p>
                <p class="help-block"
                   ng-show="form.password.$error.mongoose">
                    {{ errors.password }}
                </p>
            </div>
            <br />
            <button class="btn btn-lg btn-primary"
                    type="submit"
                    ng-disabled="form.$invalid">Sign up</button>
        </form>
    </div>
</div>